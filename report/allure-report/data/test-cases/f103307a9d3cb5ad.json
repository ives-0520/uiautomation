{"uid":"f103307a9d3cb5ad","name":"test_login_email_flow","fullName":"testCase.testApp.login.test_obj_login#test_login_email_flow","historyId":"83335525ce759f27b7a897959b95d206","time":{"start":1749996500688,"stop":1749996529708,"duration":29020},"status":"broken","statusMessage":"TypeError: expected string or bytes-like object, got 'dict'","statusTrace":"app_init = (<uiautomator2.Device object at 0x000001DF463E44D0>, <device.device_init.appOpt object at 0x000001DF47CFC500>, <config...ct at 0x000001DF47CDEE70>, <element_manage.element_locator_manager.ElementLocatorManager object at 0x000001DF4673A360>)\n\n    @allure.story(\"登录功能\")\n    def test_login_email_flow(app_init):\n        device = app_init[0]\n        app = app_init[1]  # 应用操作对象\n        app.startApp()  # 启动应用\n        time.sleep(3)\n        manager =app_init[3]  # 获取元素定位管理器\n        login_obj = obj_login(device, manager)\n        username = test_data[\"valid_user\"][\"username\"]\n        password = test_data[\"valid_user\"][\"password\"]\n>       login_obj.login(username, password)\n\ntestCase\\testApp\\login\\test_obj_login.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage_obj\\obj_login.py:26: in login\n    self.click_(self.hybrid_loadelement(self.manager.get_locator(\"loginf_tv_login\").locator))\nelement_manage\\elementOption.py:298: in hybrid_loadelement\n    return self.ai_loadelement(image_path, prompt)\nelement_manage\\elementOption.py:238: in ai_loadelement\n    ai_text=locator.extract_element_text(ai_result, prompt)\nai\\ai_locator.py:86: in extract_element_text\n    match = re.search(pattern, ai_response)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\npattern = '1\\\\.\\\\s*文本内容[：:]\\\\s*(.*)'\nstring = {'ai': {'confidence': None, 'description': '用于提交登录信息的按钮', 'element_type': '按钮', 'locator': [0.576, 0.708], ...}}\nflags = 0\n\n    def search(pattern, string, flags=0):\n        \"\"\"Scan through string looking for a match to the pattern, returning\n        a Match object, or None if no match was found.\"\"\"\n>       return _compile(pattern, flags).search(string)\nE       TypeError: expected string or bytes-like object, got 'dict'\n\nC:\\python\\Lib\\re\\__init__.py:177: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"app_init","time":{"start":1749996500526,"stop":1749996500687,"duration":161},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"TypeError: expected string or bytes-like object, got 'dict'","statusTrace":"app_init = (<uiautomator2.Device object at 0x000001DF463E44D0>, <device.device_init.appOpt object at 0x000001DF47CFC500>, <config...ct at 0x000001DF47CDEE70>, <element_manage.element_locator_manager.ElementLocatorManager object at 0x000001DF4673A360>)\n\n    @allure.story(\"登录功能\")\n    def test_login_email_flow(app_init):\n        device = app_init[0]\n        app = app_init[1]  # 应用操作对象\n        app.startApp()  # 启动应用\n        time.sleep(3)\n        manager =app_init[3]  # 获取元素定位管理器\n        login_obj = obj_login(device, manager)\n        username = test_data[\"valid_user\"][\"username\"]\n        password = test_data[\"valid_user\"][\"password\"]\n>       login_obj.login(username, password)\n\ntestCase\\testApp\\login\\test_obj_login.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage_obj\\obj_login.py:26: in login\n    self.click_(self.hybrid_loadelement(self.manager.get_locator(\"loginf_tv_login\").locator))\nelement_manage\\elementOption.py:298: in hybrid_loadelement\n    return self.ai_loadelement(image_path, prompt)\nelement_manage\\elementOption.py:238: in ai_loadelement\n    ai_text=locator.extract_element_text(ai_result, prompt)\nai\\ai_locator.py:86: in extract_element_text\n    match = re.search(pattern, ai_response)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\npattern = '1\\\\.\\\\s*文本内容[：:]\\\\s*(.*)'\nstring = {'ai': {'confidence': None, 'description': '用于提交登录信息的按钮', 'element_type': '按钮', 'locator': [0.576, 0.708], ...}}\nflags = 0\n\n    def search(pattern, string, flags=0):\n        \"\"\"Scan through string looking for a match to the pattern, returning\n        a Match object, or None if no match was found.\"\"\"\n>       return _compile(pattern, flags).search(string)\nE       TypeError: expected string or bytes-like object, got 'dict'\n\nC:\\python\\Lib\\re\\__init__.py:177: TypeError","steps":[],"attachments":[{"uid":"9350fdeb382e8f44","name":"adb_screenshot_test_login_email_flow","source":"9350fdeb382e8f44.png","type":"image/png","size":161691},{"uid":"bbde86c94fafd960","name":"logcat_test_login_email_flow","source":"bbde86c94fafd960.txt","type":"text/plain","size":263697},{"uid":"4b5057b73c695d58","name":"log","source":"4b5057b73c695d58.txt","type":"text/plain","size":2104}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":3,"hasContent":true,"stepsCount":0,"attachmentStep":false},"afterStages":[{"name":"app_init::0","time":{"start":1749996530485,"stop":1749996530787,"duration":302},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0,"attachmentStep":false}],"labels":[{"name":"story","value":"登录功能"},{"name":"parentSuite","value":"testCase.testApp.login"},{"name":"suite","value":"test_obj_login"},{"name":"host","value":"Ives-win10"},{"name":"thread","value":"19860-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testCase.testApp.login.test_obj_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"f103307a9d3cb5ad.json","parameterValues":[]}