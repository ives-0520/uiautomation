{"uid":"175387854374a054","name":"test_recharge_flow[0609@ipwangxin.cn-123456-1158472753844023]","fullName":"testCase.testApp.recharge.test_obj_recharge#test_recharge_flow","historyId":"6cc58c2c26b19a8db30d8d796e9eb075","time":{"start":1750225006523,"stop":1750225029259,"duration":22736},"status":"broken","statusMessage":"uiautomator2.exceptions.UiObjectNotFoundError: (-32001, 'androidx.test.uiautomator.UiObjectNotFoundException', ({'mask': 2097152, 'childOrSibling': [], 'childOrSiblingSelector': [], 'resourceId': 'tech.gtt.frontapp.stb.demo:id/recharge_code_confirm'},))","statusTrace":"app_init = (<uiautomator2.Device object at 0x0000026D5F3FC2F0>, <device.device_init.appOpt object at 0x0000026D779403B0>, <config...ct at 0x0000026D778F7D10>, <element_manage.element_locator_manager.ElementLocatorManager object at 0x0000026D778F7DD0>)\nusername = '0609@ipwangxin.cn', password = '123456', code = '1158472753844023'\n\n    @allure.story(\"充值功能\")\n    @pytest.mark.parametrize(\"username, password, code\", recharge_test_data)\n    def test_recharge_flow(app_init, username, password, code):\n        device = app_init[0]\n        app = app_init[1]\n        app.startApp()\n        time.sleep(3)\n        manager = app_init[3]\n        # 登录\n        login_obj = obj_login(device, manager)\n        login_obj.login(username, password)\n        app.click_(app.manager.get_locator(\"imageView\").locator )\n    \n        # 充值\n        recharge_obj = obj_recharge(device, manager)\n>       recharge_obj.recharge_flow(code)\n\ntestCase\\testApp\\recharge\\test_obj_recharge.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage_obj\\obj_recharge.py:24: in recharge_flow\n    self.click_(self.manager.get_locator(\"recharge_code_confirm\").locator)\nelement_manage\\elementOption.py:120: in click_\n    self.loadelement(element).click()\nC:\\python\\Lib\\site-packages\\uiautomator2\\_selector.py:149: in click\n    x, y = self.center(offset=offset)\nC:\\python\\Lib\\site-packages\\uiautomator2\\_selector.py:176: in center\n    lx, ly, rx, ry = self.bounds()\nC:\\python\\Lib\\site-packages\\uiautomator2\\_selector.py:163: in bounds\n    info = self.info\nC:\\python\\Lib\\site-packages\\uiautomator2\\_selector.py:128: in info\n    return self.jsonrpc.objInfo(self.selector)\nC:\\python\\Lib\\site-packages\\uiautomator2\\__init__.py:185: in __call__\n    return self.server.jsonrpc_call(self.method, params, http_timeout)\nC:\\python\\Lib\\site-packages\\uiautomator2\\core.py:279: in jsonrpc_call\n    return _jsonrpc_call(self._dev, method, params, timeout, self._debug)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndev = AdbDevice(serial=127.0.0.1:62025), method = 'objInfo'\nparams = ({'mask': 2097152, 'childOrSibling': [], 'childOrSiblingSelector': [], 'resourceId': 'tech.gtt.frontapp.stb.demo:id/recharge_code_confirm'},)\ntimeout = 60, print_request = False\n\n    def _jsonrpc_call(dev: adbutils.AdbDevice, method: str, params: Any, timeout: float, print_request: bool) -> Any:\n        \"\"\"Send jsonrpc call to uiautomator2 server\n    \n        Raises:\n            UiAutomationError\n        \"\"\"\n        payload = {\n            \"jsonrpc\": \"2.0\",\n            \"id\": 1,\n            \"method\": method,\n            \"params\": params\n        }\n        r = _http_request(dev, \"POST\", \"/jsonrpc/0\", payload, timeout=timeout, print_request=print_request)\n        data = r.json()\n        if not isinstance(data, dict):\n            raise RPCInvalidError(\"Unknown RPC error: not a dict\")\n    \n        if isinstance(data, dict) and \"error\" in data:\n            logger.debug(\"jsonrpc error: %s\", data)\n            code = data['error'].get('code')\n            message = data['error'].get('message', '')\n            stacktrace = data['error'].get('data')\n            if \"UiAutomation not connected\" in r.text:\n                raise UiAutomationNotConnectedError(\"UiAutomation not connected\")\n            if \"android.os.DeadObjectException\" in message:\n                # https://developer.android.com/reference/android/os/DeadObjectException\n                raise UiAutomationNotConnectedError(\"android.os.DeadObjectException\")\n            if \"android.os.DeadSystemRuntimeException\" in message:\n                raise UiAutomationNotConnectedError(\"android.os.DeadSystemRuntimeException\")\n            if \"uiautomator.UiObjectNotFoundException\" in message:\n>               raise UiObjectNotFoundError(code, message, params)\nE               uiautomator2.exceptions.UiObjectNotFoundError: (-32001, 'androidx.test.uiautomator.UiObjectNotFoundException', ({'mask': 2097152, 'childOrSibling': [], 'childOrSiblingSelector': [], 'resourceId': 'tech.gtt.frontapp.stb.demo:id/recharge_code_confirm'},))\n\nC:\\python\\Lib\\site-packages\\uiautomator2\\core.py:159: UiObjectNotFoundError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"app_init","time":{"start":1750225006428,"stop":1750225006521,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0}],"testStage":{"status":"broken","statusMessage":"uiautomator2.exceptions.UiObjectNotFoundError: (-32001, 'androidx.test.uiautomator.UiObjectNotFoundException', ({'mask': 2097152, 'childOrSibling': [], 'childOrSiblingSelector': [], 'resourceId': 'tech.gtt.frontapp.stb.demo:id/recharge_code_confirm'},))","statusTrace":"app_init = (<uiautomator2.Device object at 0x0000026D5F3FC2F0>, <device.device_init.appOpt object at 0x0000026D779403B0>, <config...ct at 0x0000026D778F7D10>, <element_manage.element_locator_manager.ElementLocatorManager object at 0x0000026D778F7DD0>)\nusername = '0609@ipwangxin.cn', password = '123456', code = '1158472753844023'\n\n    @allure.story(\"充值功能\")\n    @pytest.mark.parametrize(\"username, password, code\", recharge_test_data)\n    def test_recharge_flow(app_init, username, password, code):\n        device = app_init[0]\n        app = app_init[1]\n        app.startApp()\n        time.sleep(3)\n        manager = app_init[3]\n        # 登录\n        login_obj = obj_login(device, manager)\n        login_obj.login(username, password)\n        app.click_(app.manager.get_locator(\"imageView\").locator )\n    \n        # 充值\n        recharge_obj = obj_recharge(device, manager)\n>       recharge_obj.recharge_flow(code)\n\ntestCase\\testApp\\recharge\\test_obj_recharge.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage_obj\\obj_recharge.py:24: in recharge_flow\n    self.click_(self.manager.get_locator(\"recharge_code_confirm\").locator)\nelement_manage\\elementOption.py:120: in click_\n    self.loadelement(element).click()\nC:\\python\\Lib\\site-packages\\uiautomator2\\_selector.py:149: in click\n    x, y = self.center(offset=offset)\nC:\\python\\Lib\\site-packages\\uiautomator2\\_selector.py:176: in center\n    lx, ly, rx, ry = self.bounds()\nC:\\python\\Lib\\site-packages\\uiautomator2\\_selector.py:163: in bounds\n    info = self.info\nC:\\python\\Lib\\site-packages\\uiautomator2\\_selector.py:128: in info\n    return self.jsonrpc.objInfo(self.selector)\nC:\\python\\Lib\\site-packages\\uiautomator2\\__init__.py:185: in __call__\n    return self.server.jsonrpc_call(self.method, params, http_timeout)\nC:\\python\\Lib\\site-packages\\uiautomator2\\core.py:279: in jsonrpc_call\n    return _jsonrpc_call(self._dev, method, params, timeout, self._debug)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndev = AdbDevice(serial=127.0.0.1:62025), method = 'objInfo'\nparams = ({'mask': 2097152, 'childOrSibling': [], 'childOrSiblingSelector': [], 'resourceId': 'tech.gtt.frontapp.stb.demo:id/recharge_code_confirm'},)\ntimeout = 60, print_request = False\n\n    def _jsonrpc_call(dev: adbutils.AdbDevice, method: str, params: Any, timeout: float, print_request: bool) -> Any:\n        \"\"\"Send jsonrpc call to uiautomator2 server\n    \n        Raises:\n            UiAutomationError\n        \"\"\"\n        payload = {\n            \"jsonrpc\": \"2.0\",\n            \"id\": 1,\n            \"method\": method,\n            \"params\": params\n        }\n        r = _http_request(dev, \"POST\", \"/jsonrpc/0\", payload, timeout=timeout, print_request=print_request)\n        data = r.json()\n        if not isinstance(data, dict):\n            raise RPCInvalidError(\"Unknown RPC error: not a dict\")\n    \n        if isinstance(data, dict) and \"error\" in data:\n            logger.debug(\"jsonrpc error: %s\", data)\n            code = data['error'].get('code')\n            message = data['error'].get('message', '')\n            stacktrace = data['error'].get('data')\n            if \"UiAutomation not connected\" in r.text:\n                raise UiAutomationNotConnectedError(\"UiAutomation not connected\")\n            if \"android.os.DeadObjectException\" in message:\n                # https://developer.android.com/reference/android/os/DeadObjectException\n                raise UiAutomationNotConnectedError(\"android.os.DeadObjectException\")\n            if \"android.os.DeadSystemRuntimeException\" in message:\n                raise UiAutomationNotConnectedError(\"android.os.DeadSystemRuntimeException\")\n            if \"uiautomator.UiObjectNotFoundException\" in message:\n>               raise UiObjectNotFoundError(code, message, params)\nE               uiautomator2.exceptions.UiObjectNotFoundError: (-32001, 'androidx.test.uiautomator.UiObjectNotFoundException', ({'mask': 2097152, 'childOrSibling': [], 'childOrSiblingSelector': [], 'resourceId': 'tech.gtt.frontapp.stb.demo:id/recharge_code_confirm'},))\n\nC:\\python\\Lib\\site-packages\\uiautomator2\\core.py:159: UiObjectNotFoundError","steps":[],"attachments":[{"uid":"4cbd60587302c16a","name":"adb_screenshot_test_recharge_flow[0609@ipwangxin.cn-123456-1158472753844023]","source":"4cbd60587302c16a.png","type":"image/png","size":51947},{"uid":"50581a510613795b","name":"logcat_test_recharge_flow[0609@ipwangxin.cn-123456-1158472753844023]","source":"50581a510613795b.txt","type":"text/plain","size":1105245},{"uid":"de8fd6abb9381cf3","name":"log","source":"de8fd6abb9381cf3.txt","type":"text/plain","size":641}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":3,"hasContent":true,"attachmentStep":false,"stepsCount":0},"afterStages":[{"name":"app_init::0","time":{"start":1750225029903,"stop":1750225030176,"duration":273},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0}],"labels":[{"name":"story","value":"充值功能"},{"name":"parentSuite","value":"testCase.testApp.recharge"},{"name":"suite","value":"test_obj_recharge"},{"name":"host","value":"Ives-win10"},{"name":"thread","value":"17524-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testCase.testApp.recharge.test_obj_recharge"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"code","value":"'1158472753844023'"},{"name":"password","value":"'123456'"},{"name":"username","value":"'0609@ipwangxin.cn'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"175387854374a054.json","parameterValues":["'1158472753844023'","'123456'","'0609@ipwangxin.cn'"]}